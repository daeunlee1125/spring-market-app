<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.shoply.mapper.VersionMapper">


    <select id="selectRecentOne" resultType="kr.co.shoply.dto.VersionDTO">
        SELECT * FROM Version
        Order by ver_no desc
        FETCH FIRST 1 ROW ONLY
    </select>

    <insert id="save">
        INSERT INTO version (ver_version, ver_rdate, ver_writer, ver_description) VALUES (#{ver_version}, SYSDATE, #{ver_writer}, #{ver_description})
    </insert>
    
    <select id="findAllOrdered" resultType="kr.co.shoply.dto.VersionDTO">
        SELECT * from version
        order by ver_no ASC
    </select>

    <select id="selectVersionAndSiteInfo3" resultType="kr.co.shoply.dto.CopyrightDTO">
        SELECT
            v.VER_VERSION AS verVersion,
            si.S_TITLE AS sTitle,
            si.S_COPY AS sCopy
        FROM VERSION v, SITE_INFO si
        ORDER BY v.VER_NO DESC
        FETCH FIRST 1 ROWS ONLY
    </select>

</mapper>