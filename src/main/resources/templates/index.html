<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1조 Shoply 메인</title>

    <link rel="stylesheet" th:href="@{/css/index.css}"/>
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css}">

    <!-- bxSlider -->
    <script th:src="@{https://code.jquery.com/jquery-3.6.0.min.js}"></script>
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css}">
    <script th:src="@{https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js}"></script>
</head>

<body>

<header>

    <!-- 메인화면 빼고는 이 줄 지우시면 됩니다! -->
    <div th:each="banner : ${banners}" th:if="${(banner.ban_location==1) && (banner.ban_status==1)}" class="top-adv"><img th:src="@{${banner.ban_img}}" alt="상단이미지" style="width: 100%; height: 100%;"></div>



    <div class="top-bar-back">
        <div class="top-bar">오늘의 행운 룰렛 → 꽝 없는 선물파티 OPEN!</div>
    </div>

    <!-- 1번째 줄 -->
    <div class="top-header">

        <!-- 로고 -->
        <div class="header-left">
            <a th:href="@{/index}">
                <img th:src="@{/image/logo.jpg}" alt="로고" class="logo">
            </a>
        </div>

        <!-- 검색창 -->
        <div class="header-center">
            <form th:action="@{/product/search}" method="get">
                <input type="text" name="keyword" placeholder="검색">
                <button type="submit">
                    <img th:src="@{/image/search.png}" alt="검색">
                </button>
            </form>
        </div>

        <!-- 아이콘 + 로그인 메뉴 -->
        <div class="header-right">
            <a th:href="@{/my/home}">
                <img th:src="@{/image/user.png}" alt="유저" class="icon">
            </a>
            <a th:href="@{/product/cart}">
                <img th:src="@{/image/cart.png}" alt="장바구니" class="icon" style="width: 30px;">
            </a>

        </div>
    </div>

    <div class="bottom-header">
        <div class="header-left">
            <a href="#" id="categoryBtn"> 전체 카테고리</a>
            <a href="#hit-products">히트상품</a>
            <a href="#recommended-products">추천상품</a>
            <a href="#recent-products">최신상품</a>
            <a href="#best-products">인기상품</a>
            <a href="#discount-products">할인상품</a>
        </div>


        <div class="header-right login-menu">
            <a th:if="${#authorization.expr('!isAuthenticated()')}" th:href="@{/member/login}">로그인</a><a th:if="${#authorization.expr('isAuthenticated()')}" th:href="@{/member/logout}">로그아웃</a>
            |
            <a th:if="${#authorization.expr('isAuthenticated()') && (#authentication.principal.member.mem_level == 7 || #authentication.principal.member.mem_level == 2)}" th:href="@{/admin/}">관리자 페이지</a>
            <a th:if="${#authorization.expr('isAuthenticated()') && #authentication.principal.member.mem_level == 1}">[[${#authentication.principal.member.mem_name}]]님</a>
            <a th:if="${#authorization.expr('!isAuthenticated()')}" th:href="@{/member/join}">회원가입</a>

            |
            <a th:href="@{/cs}">고객센터</a>
        </div>
    </div>

</header>



<div class="container">

    <!-- 베스트 상품 안 들어가는 창은 여기부터 저 아래 주석까지 삭제하고 작업 -->
    <div class="left-space">
        <div class="inner">
            <h3>베스트 상품</h3>

            <!-- 첫 번째 상품 (가장 많이 팔린 1위) -->
            <div th:if="${#lists.size(sidebarBestProducts) > 0}" class="product-card" th:with="p=${sidebarBestProducts[0]}">
                <div class="img-box">
                    <img th:src="@{|${p.f_name}|}" alt="상품" class="prod-img">
                </div>
                <a th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${p.getCate2_no()}, prodNo=${p.getProd_no()})}" class="name" th:text="${p.prod_name}"></a>
                <div class="price-box">
                    <div class="price-top">
                        <span class="original" th:text="${#numbers.formatInteger(p.prod_price, 3, 'COMMA')} + '원'"></span>
                        <span class="discount" th:text="${p.prod_sale + '%'}"></span>
                    </div>
                    <div class="sale-cont">
                    <span class="sale"
                          th:text="${#numbers.formatInteger(p.prod_price - (p.prod_price * p.prod_sale / 100), 3, 'COMMA')} + '원'">0원</span>
                    </div>
                </div>
            </div>

            <!-- 나머지 상품 -->
            <ul class="product-list">
                <li class="product-item"
                    th:each="p, iterStat : ${sidebarBestProducts}"
                    th:if="${iterStat.index >= 1 and iterStat.index < 5}">
                    <div class="thumb">
                        <img th:src="@{|${p.f_name}|}" alt="상품" class="prod-img">
                    </div>
                    <div class="info">
                        <a th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${p.getCate2_no()}, prodNo=${p.getProd_no()})}" class="name" th:text="${p.prod_name}"></a>
                        <div class="price-box">
                            <div class="price-top2">
                                <span class="original" th:text="${#numbers.formatInteger(p.prod_price, 3, 'COMMA')} + '원'"></span>
                                <span class="discount" th:text="${p.prod_sale + '%'}"></span>
                            </div>
                            <div class="sale-cont">
                            <span class="sale"
                                  th:text="${#numbers.formatInteger(p.prod_price - (p.prod_price * p.prod_sale / 100), 3, 'COMMA')} + '원'">0원</span>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <!--  여기까지 베스트 상품 -->


    <div class="wrapper">

        <!-- 전체 카테고리 누르면 튀어나오는 메뉴창 -->
        <div id="categoryBox" class="category-box">
            <div class="main-menu">
                <ul>
                    <li data-target="menu1">패션/의류/뷰티</li>
                    <li data-target="menu2">패션잡화</li>
                    <li data-target="menu3">생활용품</li>
                    <li data-target="menu4">반려동물</li>
                    <li data-target="menu5">디지털/가전</li>
                </ul>
            </div>

            <div class="sub-menu">
                <ul id="menu1" class="submenu-content">
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='1')}">여성의류</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='2')}">남성의류</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='3')}">이너웨어/잠옷</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='4')}">남여공용의류</a></li>
                </ul>
                <ul id="menu2" class="submenu-content" style="display:none;">
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='5')}">모자/장갑</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='6')}">신발</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='7')}">가방/지갑</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='8')}">목걸이/반지/팔찌</a></li>
                </ul>
                <ul id="menu3" class="submenu-content" style="display:none;">
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='9')}">청소용품</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='10')}">주방용품</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='11')}">욕실용품</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='12')}">수납/정리</a></li>

                </ul>
                <ul id="menu4" class="submenu-content" style="display:none;">
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='13')}">강아지 사료/간식</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='14')}">고양이 사료/간식</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='15')}">산책용품</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='16')}">관상어 용품</a></li>
                </ul>
                <ul id="menu5" class="submenu-content" style="display:none;">
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='17')}">TV</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='18')}">냉장고</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='19')}">세탁기/건조기</a></li>
                    <li><a th:href="@{/product/list/{cate2No}(cate2No='20')}">데스크탑/노트북</a></li>
                </ul>
            </div>
        </div>


        <main>
            <!-- 메인화면 빼고 다른 분들은 주석부터 주석까지(bxslider) 삭제하고 -->
            <!-- main 태그 안에서 작업 -->
            <!--  -->
            <div class="slider">
                <div class="slides">
                    <img th:each="banner : ${banners}" th:if="${(banner.ban_location==2) && (banner.ban_status==1)}" th:src="@{${banner.ban_img}}" alt="이미지1">
                </div>
                <button class="prev"><i class="fas fa-chevron-left"></i></button>
                <button class="next"><i class="fas fa-chevron-right"></i></button>
                <div class="indicators">
                    <span class="active"></span>
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>


            <!-- 히트상품 -->
            <section id="hit-products" class="product-section">
                <h3>🔥 히트상품</h3>
                <div class="product-grid">

                    <!-- 히트상품 리스트 반복 -->
                    <div th:each="p : ${hitProducts}" class="product-box">
                        <a th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${p.getCate2_no()}, prodNo=${p.getProd_no()})}">
                            <img th:src="@{|${p.f_name}|}" alt="상품" class="prod-img">

                            <!-- 상품명 -->
                            <p class="name" th:text="${p.prod_name}"></p>

                            <!-- 원가 + 할인율 -->
                            <div class="price-wrap">
                                <span class="original" th:text="${#numbers.formatInteger(p.prod_price, 3, 'COMMA')} + '원'"></span>
                                <span class="discount" th:if="${p.prod_sale > 0}"
                                      th:text="${p.prod_sale + '%↓'}"></span>
                            </div>

                            <!-- 판매가 + 무료배송 아이콘 -->
                            <div class="sale-wrap">
                            <span class="sale"
                                  th:text="${#numbers.formatInteger(p.prod_price - (p.prod_price * p.prod_sale / 100), 3, 'COMMA')} + '원'">
                            </span>
                                <img th:if="${p.prod_deliv_price == 0}"
                                     th:src="@{/image/메인/ico_freeshipping.gif}"
                                     alt="무료배송" class="free-icon">
                            </div>
                        </a>
                    </div>

                </div>
            </section>


            <!-- 추천상품 -->
            <section id="recommended-products" class="product-section">
                <h3>💎 추천상품</h3>
                <div class="product-grid">

                    <!-- 상품 리스트 반복 -->
                    <div th:each="p : ${recommendedProducts}" class="product-box">
                        <a th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${p.getCate2_no()}, prodNo=${p.getProd_no()})}">
                            <img th:src="@{|${p.f_name}|}" alt="상품" class="prod-img">

                            <p class="name" th:text="${p.prod_name}"></p>

                            <div class="price-wrap">
                    <span class="original"
                          th:text="${#numbers.formatInteger(p.prod_price, 3, 'COMMA')} + '원'"></span>
                                <span class="discount" th:if="${p.prod_sale > 0}"
                                      th:text="${p.prod_sale + '%↓'}"></span>
                            </div>

                            <div class="sale-wrap">
                    <span class="sale"
                          th:text="${#numbers.formatInteger(p.prod_price - (p.prod_price * p.prod_sale / 100), 3, 'COMMA')} + '원'">
                    </span>
                                <img th:if="${p.prod_deliv_price == 0}"
                                     th:src="@{/image/메인/ico_freeshipping.gif}"
                                     alt="무료배송" class="free-icon">
                            </div>
                        </a>
                    </div>

                </div>
            </section>



            <!-- 최신상품 -->
            <section id="recent-products" class="product-section">
                <h3>💎 최신상품</h3>
                <div class="product-grid">

                    <div th:each="p : ${newProducts}" class="product-box">
                        <a th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${p.getCate2_no()}, prodNo=${p.getProd_no()})}">

                            <!-- 상품 이미지 -->
                            <img th:src="@{|${p.f_name}|}" alt="상품" class="prod-img">

                            <!-- 상품명 -->
                            <p class="name" th:text="${p.prod_name}"></p>

                            <!-- 가격 / 할인율 -->
                            <div class="price-wrap">
                            <span class="original"
                          th:text="${#numbers.formatInteger(p.prod_price, 3, 'COMMA')} + '원'"></span>

                                <span class="discount"
                                      th:if="${p.prod_sale > 0}"
                                      th:text="${p.prod_sale} + '%↓'"></span>
                            </div>

                            <!-- 할인 적용가 및 무료배송 -->
                            <div class="sale-wrap">
                    <span class="sale"
                          th:text="${#numbers.formatInteger(p.prod_price - (p.prod_price * p.prod_sale / 100), 3, 'COMMA')} + '원'"></span>

                                <img th:if="${p.prod_deliv_price == 0}"
                                     th:src="@{/image/메인/ico_freeshipping.gif}"
                                     alt="무료배송" class="free-icon">
                            </div>
                        </a>
                    </div>
                </div>
            </section>

            <!-- 💎 인기상품 -->
            <section id="best-products" class="product-section">
                <h3>💎 인기상품</h3>
                <div class="product-grid">
                    <!-- 상품 반복 출력 -->
                    <a th:each="p : ${bestProducts}"
                       th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${p.getCate2_no()}, prodNo=${p.getProd_no()})}">
                        <div class="product-box">
                            <!-- 상품 이미지 -->
                            <img th:src="@{|${p.f_name}|}" alt="상품" class="prod-img">
                            <!-- 상품명 -->
                            <p class="name" th:text="${p.prod_name}"></p>
                            <!-- 가격 정보 -->
                            <div class="price-wrap">
                                <span class="original" th:text="${#numbers.formatInteger(p.prod_price, 3, 'COMMA')} + '원'"></span>
                                <span class="discount" th:text="${p.prod_sale + '%↓'}"></span>
                            </div>
                            <!-- 할인된 가격 및 무료배송 아이콘 -->
                            <div class="sale-wrap">
                    <span class="sale"
                          th:text="${#numbers.formatInteger(p.prod_price - (p.prod_price * p.prod_sale / 100), 3, 'COMMA')} + '원'">
                    </span>
                                <img th:if="${p.prod_deliv_price == 0}"
                                     th:src="@{/image/메인/ico_freeshipping.gif}"
                                     alt="무료배송" class="free-icon">
                            </div>
                        </div>
                    </a>
                </div>
            </section>


            <!-- 💸 할인상품 -->
            <section id="discount-products" class="product-section">
                <h3>💸 할인상품</h3>
                <div class="product-grid">
                    <!-- 할인율 높은 순으로 8개 반복 -->
                    <a th:each="p : ${discountProducts}"
                       th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${p.getCate2_no()}, prodNo=${p.getProd_no()})}">
                        <div class="product-box">
                            <!-- 상품 이미지 -->
                            <img th:src="@{|${p.f_name}|}" alt="상품" class="prod-img">
                            <!-- 상품명 -->
                            <p class="name" th:text="${p.prod_name}"></p>
                            <!-- 가격 및 할인율 -->
                            <div class="price-wrap">
                    <span class="original"
                          th:text="${#numbers.formatInteger(p.prod_price, 3, 'COMMA')} + '원'"></span>
                                <span class="discount"
                                      th:text="${p.prod_sale + '%↓'}"></span>
                            </div>
                            <!-- 할인가격 및 무료배송 표시 -->
                            <div class="sale-wrap">
                    <span class="sale"
                          th:text="${#numbers.formatInteger(p.prod_price - (p.prod_price * p.prod_sale / 100), 3, 'COMMA')} + '원'">
                    </span>
                                <img th:if="${p.prod_deliv_price == 0}"
                                     th:src="@{/image/메인/ico_freeshipping.gif}"
                                     alt="무료배송" class="free-icon">
                            </div>
                        </div>
                    </a>
                </div>
            </section>
        </main> </div> </div>     <footer>
</footer>

<footer>

    <div class="top-footer">
        <div class="footer-wrapper">
            <div class="top-f">
                <a th:href="@{/company/index}" style="margin-left: 0px;">회사소개</a> |
                <a th:href="@{/policy/buyer}">서비스이용약관</a> |
                <a th:href="@{/policy/privacy}" style="color: rgb(175, 102, 175);">개인정보처리방침</a> |
                <a th:href="@{/policy/finance}">전자금융거래약관</a>
            </div>
        </div>
    </div>
    <div class="footer-wrapper">

        <h3 class="cpname">(주)샵플리닷컴</h3>
        <div class="call-cont">
            <img th:src="@{/image/call3.png}" alt="" style="height: 45px; margin-top: 5px;">
            <span class="tel">1234-5678</span>
            <span class="time"> (평일 09:00~18:00)</span>
        </div>
        <div style="color: gray; margin-top: 15px">
            <span>대표이사 : 홍길동</span>
            <span style="margin-left: 10px;">부산광역시 부산진구 중앙대로 103 그린타워 13층</span>
            <span style="margin-left: 10px;">사업자등록번호 : 123-45-12345</span>

            <div style="margin-top: 3px;">
                <span>전자금융거래 분쟁 담당 : 1234-1234(365일 09:00~18:00)</span>
            </div>
        </div>

    </div>
    <div class="middle">
        <p id="footer-p" th:text="${copyrightDTO.getSCopy()} + '.' + ${copyrightDTO.getSTitle()} + ' ADMINISTRATOR Version ' + ${copyrightDTO.getVerVersion()}">
            Copyright ©shoply.co.kr All rights reserved. shoply ADMINISTRATOR Version 0.0.4-SNAPSHOT
        </p>
    </div>

</footer>



</body>

<script th:src="@{/js/index.js}"></script>

</html>
