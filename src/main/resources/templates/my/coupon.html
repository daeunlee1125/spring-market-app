<div th:replace="~{my/_head.html}"></div>

<main class="container">
    <div class="sidebar">
        <ul>
            <li><a th:href="@{/my/home}">마이페이지 홈</a></li>
            <li><a th:href="@{/my/order}">전체주문내역</a></li>
            <li><a th:href="@{/my/point}">포인트내역</a></li>
            <li><a th:href="@{/my/coupon}" class="active">쿠폰</a></li>
            <li><a th:href="@{/my/review}">나의리뷰</a></li>
            <li><a th:href="@{/my/qna}">문의하기</a></li>
            <li><a th:href="@{/my/info}">나의설정</a></li>
        </ul>
    </div>
    <div class="content">
        <div class="main-content-header">
            <h2>나의 쇼핑 정보</h2>
            <div class="info-summary">
                <div class="info-item">
                    <div class="count" th:text="${orderCount}">2</div>
                    <div>주문</div>
                </div>
                <div class="info-item">
                    <div class="count" th:text="${couponCount}">1</div>
                    <div>쿠폰</div>
                </div>
                <div class="info-item">
                    <div class="count" th:text="${pointTotal}">1,000</div>
                    <div>포인트</div>
                </div>
                <div class="info-item">
                    <div class="count" th:text="${qnaCount}">1</div>
                    <div>문의</div>
                </div>
            </div>
        </div>

        <div class="banner">
            810 x 86 배너 광고
        </div>

        <div class="coupon-section">
            <h3>쿠폰내역</h3>
            <table class="coupon-table">
                <thead>
                <tr>
                    <th>쿠폰명</th>
                    <th>할인금액</th>
                    <th>적용기준 / 제한조건</th>
                    <th>상태</th>
                    <th>유효기간</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="coupon : ${userCoupons}">
                    <td th:text="${coupon.cpName}">1만원 할인 중복쿠폰</td>
                    <td th:text="${#numbers.formatInteger(coupon.cpValue, 3, 'COMMA')} + '원'">10,000원</td>
                    <td>
                        <span th:text="${#numbers.formatInteger(coupon.cpMinPrice, 3, 'COMMA')} + '원 이상 구매시'">10,000원 이상 구매시</span>
                        <span th:if="${coupon.cpType == 1}">(중복 가능)</span>
                    </td>
                    <td th:text="${coupon.cpStatName}">사용가능</td>
                    <td th:text="${#dates.format(coupon.cpExpDate, 'yyyy-MM-dd')}">~12/31</td>
                </tr>
                <tr th:if="${#lists.isEmpty(userCoupons)}">
                    <td colspan="5" style="text-align: center;">쿠폰 내역이 없습니다.</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="info-section">
            <h3>쿠폰사용안내</h3>
            <ul class="info-text">
                <li>현금/골드/환불/상품권 등 현금성 카테고리 및 일부 프로모션 상품에는 쿠폰 사용이 제한됩니다.</li>
                <li>상품/구매/할인 쿠폰은 한 상품당 한 장만 사용 가능하며, 총 주문금액이 일정 금액 이상일 경우에만 사용 가능합니다.</li>
                <li>쿠폰은 쿠폰 한정으로 적용되므로, 사용 시 유의하시기 바랍니다.</li>
                <li>쿠폰은 회원당 한 번씩만 발행되며, 재발행이 불가능합니다.</li>
                <li>유효기간이 지난 쿠폰은 자동 소멸됩니다.</li>
            </ul>
        </div>


    </div>
</main>

<div th:replace="~{my/_tail.html}"></div>