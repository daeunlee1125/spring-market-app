<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지 포인트내역</title>
    <link rel="stylesheet" th:href="@{/kmarket/inc/css/my.css}">
</head>
<body class="logged-in">
<div th:replace="~{my/_head.html}"></div>

<main class="container">
    <div class="sidebar">

        <ul>
            <li><a th:href="@{/my/home}">마이페이지 홈</a></li>
            <li><a th:href="@{/my/order}">전체주문내역</a></li>
            <li><a th:href="@{/my/point}" class="active">포인트내역</a></li>
            <li><a th:href="@{/my/coupon}">쿠폰</a></li>
            <li><a th:href="@{/my/review}">나의리뷰</a></li>
            <li><a th:href="@{/my/qna}">문의하기</a></li>
            <li><a th:href="@{/my/info}">나의설정</a></li>
        </ul>
    </div>
    <div class="content">
        <h2>나의 쇼핑 정보</h2>
        <div class="main-content-header">
            <div class="info-summary">
                <div class="info-item">
                    <div class="count" th:text="${orderCount}">2</div>
                    <div>주문</div>
                </div>
                <div class="info-item">
                    <div class="count" th:text="${couponCount}">1</div>
                    <div>쿠폰</div>
                </div>
                <div class="info-item">
                    <div class="count" th:text="${#numbers.formatInteger(pointTotal, 3, 'COMMA')}">1,000</div>
                    <div>포인트</div>
                </div>
                <div class="info-item">
                    <div class="count" th:text="${qnaCount}">1</div>
                    <div>문의</div>
                </div>
            </div>
        </div>

        <div class="banner">
            810 x 86 배너 광고
        </div>

        <div class="section">
            <div class="section-header">
                <h3>포인트적립내역</h3>
            </div>
            <table class="table-container">
                <thead>
                <tr>
                    <th>날짜</th>
                    <th>구분</th>
                    <th>주문번호</th>
                    <th>적립금액</th>
                    <th>비고</th>
                    <th>유효기간</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="point : ${pointList}">
                    <td th:text="${#dates.format(point.pDate, 'yyyy-MM-dd')}">2022-12-13</td>
                    <td th:text="${point.pType}">적립</td>
                    <td th:text="${point.ordNo}">2022121001</td>
                    <td th:text="${#numbers.formatInteger(point.pPoint, 3, 'COMMA')}">340</td>
                    <td th:text="${point.pInfo}">상품구매확정</td>
                    <td th:text="${#dates.format(point.pExpDate, 'yyyy-MM-dd')}">2024-12-10</td>
                </tr>
                <tr th:if="${#lists.isEmpty(pointList)}">
                    <td colspan="6" style="text-align: center;">포인트 내역이 없습니다.</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="info-section">
            <h3>포인트 안내</h3>
            <ul class="info-text">
                <li>적립된 포인트는 현금처럼 사용하실 수 있습니다.</li>
                <li>포인트는 주문 금액의 10%가 자동으로 적립됩니다. (예: 10,000원 구매 시 1,000P 적립)</li>
                <li>구매 확정 후 7일 이내에 포인트가 적립됩니다.</li>
                <li>유효 기간이 지난 포인트는 자동으로 소멸됩니다.</li>
            </ul>
        </div>


    </div>
</main>
<div th:replace="~{my/_tail.html}"></div>
</body>
</html>