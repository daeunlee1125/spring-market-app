<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정책 | SHOPLY</title>

    <link rel="stylesheet" th:href="@{/css/index.css}">
    <link rel="stylesheet" th:href="@{/css/policy.css}">
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css}">

    <!-- bxSlider -->

</head>

<body>

<header>

    <div class="top-bar-back">
        <div class="top-bar">오늘의 행운 룰렛 → 꽝 없는 선물파티 OPEN!</div>
    </div>

    <!-- 1번째 줄 -->
    <div class="top-header">

        <!-- 로고 -->
        <div class="header-left">
            <a th:href="@{/index}">
                <img th:src="@{/image/logo.jpg}" alt="로고" class="logo">
            </a>
        </div>

        <!-- 검색창 -->
        <div class="header-center">
            <form action="" method="get">
                <input type="text" placeholder="검색">
                <button type="submit">
                    <img th:src="@{/image/search.png}" alt="검색">
                </button>
            </form>
        </div>

        <!-- 아이콘 + 로그인 메뉴 -->
        <div class="header-right">
            <a th:href="@{/my/home}">
                <img th:src="@{/image/user.png}" alt="유저" class="icon">
            </a>
            <a th:href="@{/product/cart}">
                <img th:src="@{/image/cart.png}" alt="장바구니" class="icon" style="width: 30px;">
            </a>
            <span class="cart-count"
                  th:if="${cartCount != null && cartCount > 0}"
                  th:text="${cartCount}">0</span>
        </div>
    </div>

    <div class="bottom-header">
        <div class="header-left">
            <a href="#" id="categoryBtn"> 전체 카테고리</a>
            <a th:href="@{/index#hit-products}">히트상품</a>
            <a th:href="@{/index#recommended-products}">추천상품</a>
            <a th:href="@{/index#recent-products}">최신상품</a>
            <a th:href="@{/index#best-products}">인기상품</a>
            <a th:href="@{/index#discount-products}">할인상품</a>
        </div>

        <div class="header-right login-menu">
            <a th:if="${#authorization.expr('!isAuthenticated()')}" th:href="@{/member/login}">로그인</a><a th:if="${#authorization.expr('isAuthenticated()')}" th:href="@{/member/logout}">로그아웃</a>
            |
            <a th:if="${#authorization.expr('isAuthenticated()') && (#authentication.principal.member.mem_level == 7 || #authentication.principal.member.mem_level == 2)}" th:href="@{/admin/}">관리자 페이지</a>
            <a th:if="${#authorization.expr('isAuthenticated()') && #authentication.principal.member.mem_level == 1}">[[${#authentication.principal.member.mem_name}]]님</a>
            <a th:if="${#authorization.expr('!isAuthenticated()')}" th:href="@{/member/join}">회원가입</a>

            |
            <a th:href="@{/cs}">고객센터</a>
        </div>

    </div>

</header>



<div class="container">




    <div class="wrapper">

        <!-- 전체 카테고리 누르면 튀어나오는 메뉴창 -->
        <div id="categoryBox" class="category-box">
            <ul class="main-menu"
                style="list-style-type: none; padding-left: 0; margin: 0;">

                <li th:each="cate1, iterStat : ${cate1DTOList}"
                    th:data-target="|menu${iterStat.count}|"
                    th:class="${iterStat.index == 0} ? 'active' : ''">
                    <span th:text="${cate1.cate1_name}">패션의류</span>
                </li>
            </ul>

            <div class="sub-menu">
                <ul th:each="cate1, iterStat : ${cate1DTOList}"
                    th:id="|menu${iterStat.count}|"
                    class="submenu-content"
                    th:style="${iterStat.index > 0} ? 'display:none;'">

                    <li th:each="cate2 : ${cate1.subCategories}">
                        <a th:href="@{/product/list/{cate2No}(cate2No=${cate2.cate2_no})}"
                           th:text="${cate2.cate2_name}">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
