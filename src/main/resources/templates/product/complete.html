<div th:replace="~{product/_head.html}"></div>
        <div class="main">
            <div class="complete-container">
                <h1>주문완료</h1>

                <div class="complete-message-box">
                    <p><strong th:text="${memberDTO.getMem_name()}">이민준</strong> 고객님 주문이 완료되었습니다.</p>
                </div>

                <div class="order-info-bar">
                    <span th:text="${orderInfo.getOrd_date()} + '에 주문하신 주문건의 주문번호는' + ${orderInfo.getOrd_no()} + '입니다.'">2025년 9월 28일(일)에 주문하신 주문건의 주문번호는</span>
                </div>

                <div class="recipient-info">
                    <strong th:text="'받는 분 정보: ' + ${orderInfo.getOrd_name()} + ' ' + ${orderInfo.getOrd_hp()} + ' [' + ${orderInfo.getOrd_zip()} + '] ' + ${orderInfo.getOrd_addr1()} + ' ' + ${orderInfo.getOrd_addr2()}">받는 분 정보</strong>
                </div>

                <div class="price-summary-box">
                    <span>주문금액 <strong th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 0, 'POINT')}">23,580</strong>원</span>
                    <span class="op">-</span>
                    <span>상품할인 <strong th:text="${#numbers.formatDecimal(totalSalePrice, 0, 'COMMA', 0, 'POINT')}">2,358</strong>원</span>
                    <span class="op">+</span>
                    <span>배송비 <strong th:text="${#numbers.formatDecimal(totalDeliv, 0, 'COMMA', 0, 'POINT')}">0</strong>원</span>
                    <span class="op">=</span>
                    <span class="final-price">최종결제금액 <strong th:text="${#numbers.formatDecimal(orderInfo.getOrd_total(), 0, 'COMMA', 0, 'POINT')}">21,222</strong>원</span>
                </div>

                <section class="order-section">
                    <h2>주문 상품 정보</h2>
                    <div class="order-item" th:each="completeDTO : ${orderItems}">
                        <img th:src="@{${completeDTO.getOrderItems().getProduct().getFName()}}" alt="주문상품1">
                        <div class="order-item-info">
                            <span class="name" th:text="${completeDTO.getOrderItems().getProduct().getProd_name()}">마스마룰즈 스트랩파우치 모음전 VER.3</span>
                            <th:block th:if="${completeDTO.getOrderItems().getProd_option()} != null">
                                <p class="desc" th:text="'  옵션: ' + ${completeDTO.getOrderItems().getProd_option()}">옵션: SP_체커보드</p>
                            </th:block>
                            <p class="quantity" th:text="'수량: ' + ${completeDTO.getOrderItems().getItem_cnt()} + '개'">수량: 1개</p>
                        </div>
                        <div class="order-item-price">
                            <p class="price" th:text="${#numbers.formatDecimal(completeDTO.getOrderItems().getProduct().getProd_price(), 0, 'COMMA', 0, 'POINT')} + '원'">23,580원</p>
                            <p class="discount" th:text="'상품 할인 -' + ${#numbers.formatDecimal(completeDTO.getOrderItems().getProduct().getSaleprice(), 0, 'COMMA', 0, 'POINT')} + '원'">할인 -2,358원</p>
                            <div th:if="${sysCouponDTO != null and sysCouponDTO.getCp_type() == 3}">
                                <p style="text-decoration: line-through;" class="discount" th:text="${#numbers.formatDecimal(completeDTO.getOrderItems().getProduct().getProd_deliv_price(), 0, 'COMMA', 0, 'POINT')} + '원'">배송비 +2,358원</p>
                            </div>
                            <div th:unless="${sysCouponDTO != null and sysCouponDTO.getCp_type() == 3}">
                                <p class="discount" th:text="${#numbers.formatDecimal(completeDTO.getOrderItems().getProduct().getProd_deliv_price(), 0, 'COMMA', 0, 'POINT')} + '원'">배송비 +2,358원</p>
                            </div>
                        </div>
                    </div>
                </section>

                <div class="details-wrapper">
                    <div class="details-left">
                        <section class="order-section">
                            <h2>결제 내역</h2>
                            <div class="info-table">
                                <div class="info-row">
                                    <span class="label">결제 방법</span>
                                    <span class="value" th:text="${orderInfo.getOrd_payment()} + '(일시불)'">신용카드 (일시불)</span>
                                </div>
                                <div class="info-row">
                                    <span class="label">총 결제금액</span>
                                    <span class="value final-value" th:text="${#numbers.formatDecimal(orderInfo.getOrd_total(), 0, 'COMMA', 0, 'POINT')}">21,222원</span>
                                </div>
                            </div>
                        </section>
                        <section class="order-section">
                            <h2>주문 정보</h2>
                            <div class="info-table">
                                <div class="info-row">
                                    <span class="label">주문번호</span>
                                    <span class="value" th:text="${orderInfo.getOrd_no()}">202509280952869</span>
                                </div>
                                <div class="info-row">
                                    <span class="label">주문자</span>
                                    <span class="value" th:text="${memberDTO.getMem_name()}">이민준</span>
                                </div>
                                <div class="info-row">
                                    <span class="label">연락처</span>
                                    <span class="value" th:text="${memberDTO.getMem_hp()}">010-2109-8237</span>
                                </div>
                            </div>
                        </section>
                        <section class="order-section">
                            <h2>배송 정보</h2>
                            <div class="info-table">
                                <div class="info-row">
                                    <span class="label">수취인</span>
                                    <span class="value" th:text="${orderInfo.getOrd_name()}">이민준</span>
                                </div>
                                <div class="info-row">
                                    <span class="label">연락처</span>
                                    <span class="value" th:text="${orderInfo.getOrd_hp()}">010-2109-8237>010-1234-1234</span>
                                </div>
                                <div class="info-row">
                                    <span class="label">배송지 주소</span>
                                    <span class="value" th:text="'[' + ${orderInfo.getOrd_zip()} + '] ' + ${orderInfo.getOrd_addr1()} + ' ' + ${orderInfo.getOrd_addr2()}">[집] 부산광역시 부산진구 동의대학교</span>
                                </div>
                            </div>
                        </section>
                    </div>

                    <div class="details-right">
                        <section class="order-section">
                            <h2>이번 주문으로 누리는 구매혜택</h2>
                            <div class="benefits-box">
                                <p class="benefit-title">
                                    <strong th:text="${#numbers.formatDecimal(totalPoint, 0, 'COMMA', 0, 'POINT')} + '원'">21</strong>
                                    <span>은 구매확정시 혜택을 받을 수 있어요!</span>
                                </p>
                                <div class="benefit-item">
                                    <span>SHOPLY 포인트</span>
                                    <span th:text="${#numbers.formatDecimal(totalPoint, 0, 'COMMA', 0, 'POINT')} + '원'">21원</span>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

                <div class="action-buttons">
                    <a th:href="@{/}"><button type="button" class="btn-secondary">쇼핑 계속하기</button></a>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="~{product/_tail.html}"></div>