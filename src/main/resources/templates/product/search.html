<div th:replace="~{product/_head.html}"></div>

            <main>
                <div class="main-size">
                    <div class="main-nav-div"> <!-- 네비 -->
                        <nav class="main-nav">
                            <span>HOME > 상품검색 > 검색결과</span> <!-- 동적 -->
                        </nav>
                    </div>

                    <div class="main-list-head">
                        <div class="main-list-headName"
                             th:data-keyword="${keyword}"
                             th:text="|'${keyword}' 검색결과|">
                            '검색어' 검색결과
                        </div>
                        <hr>
                    </div>

                    <div class="search2">
                        <div class="search-title">
                            <p><strong th:text="${keyword}"></strong> 검색결과 <span th:text="'총 : ' + ${productDTOList.size()} + '건'"></span></p>
                        </div>
                        <form id="secondarySearchForm" method="get" class="search-form">
                            <div class="search-box">
                                <input type="text" name="keyword2" placeholder="상세 검색어">
                                <button type="submit">상세 검색</button>
                            </div>
                            <div class="search-options">
                                <label><input type="radio" name="type" value="name"> 상품명</label>
                                <label><input type="radio" name="type" value="context"> 설명</label>
                                <label><input type="radio" name="type" value="price"> 가격</label>
                                <input type="text" name="minPrice" class="price-input" title="최소 가격">
                                <span>~</span>
                                <input type="text" name="maxPrice" class="price-input" title="최대 가격">
                            </div>
                        </form>
                    </div>


                    <div class="sort-container" th:data-sort="${sort}"> <!-- 상품 정렬 기준 정하기 -->
                        <div class="sort-dropdown">
                            <button class="sort-selected">
                                <span id="selected-sort-text" th:switch="${sort}">
                                <th:block th:case="'priceAsc'">낮은가격순</th:block>
                                <th:block th:case="'priceDesc'">높은가격순</th:block>
                                <th:block th:case="'score'">평점높은순</th:block>
                                <th:block th:case="'review'">후기많은순</th:block>
                                <th:block th:case="*">판매많은순</th:block> </span>
                                <span class="arrow">▼</span>
                            </button>
                            <ul class="sort-options">
                                <li><a href="#" class="sort-link" data-sort="sold">판매많은순</a></li>
                                <li><a href="#" class="sort-link" data-sort="priceAsc">낮은가격순</a></li>
                                <li><a href="#" class="sort-link" data-sort="priceDesc">높은가격순</a></li>
                                <li><a href="#" class="sort-link" data-sort="score">평점높은순</a></li>
                                <li><a href="#" class="sort-link" data-sort="review">후기많은순</a></li>
                            </ul>
                        </div>
                    </div>

                    <div> <!-- 상품 list -->
                        <div class="product-list-container">

                            <div class="product-item" th:each="productDTO : ${productDTOList}">
                                <a th:href="@{/product/view/{cate2No}/{prodNo}(cate2No=${productDTO.getCate2_no()},prodNo=${productDTO.prod_no})}" class="item-link">
                                    <div class="item-thumb">
                                        <img th:src="@{${productDTO.getFName()}}" alt="상품 이미지">
                                    </div>
                                    <div class="item-info">
                                        <div class="item-header">
                                            <span class="item-brand">[[${productDTO.prod_company}]]</span>
                                            <div class="item-icons">
                                                <button type="button" class="btn-wish"></button>
                                                <button type="button" class="btn-cart"></button>
                                            </div>
                                        </div>
                                        <p class="item-name">[[${productDTO.prod_name}]]</p>
                                        <div class="item-price-box">
                                            <div>
                                                <span class="discount-rate">[[${productDTO.prod_sale}]]%</span>
                                                <del class="original-price">[[${#numbers.formatDecimal(productDTO.prod_price, 0, 'COMMA', 0, 'POINT')}]]원</del>
                                            </div>
                                            <span class="final-price"
                                                  th:text="|${#numbers.formatDecimal(productDTO.prod_price - productDTO.prod_price * (productDTO.prod_sale / 100.0), 0, 'COMMA', 0, 'POINT')}원|">
                                    50,000원
                                </span>

                                        </div>
                                        <div class="rating-box">
                                            <span><img th:src="@{/image/graystar.png}" alt="" class="rating_star">[[${productDTO.avgRating}]]</span>
                                            <span class="rating-good" th:if="${productDTO.avgRating >= 4.0}">고객만족우수</span>
                                        </div>
                                    </div>
                                </a>
                            </div>

                        </div>
                    </div>
                    <div class="pagination-container">
                        <div class="pagination">
                        </div>
                    </div>
                </div>
            </main>
    </div>
</div>

<div th:replace="~{product/_tail.html}"></div>